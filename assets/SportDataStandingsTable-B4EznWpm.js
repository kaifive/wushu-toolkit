import{j as e}from"./index-Bv8TyUYH.js";import{J as T}from"./DefaultLayout-DKRWV1iK.js";import{E as j,C as S,S as Q}from"./SportdataFilters-CF1Eyc_H.js";import{c as y}from"./index.es-DxTKonIH.js";import{C as w,a as _}from"./CCardBody-BKiaJjcl.js";import{C as b}from"./CCardHeader-DEFVgvaW.js";import{C as M,a as D,b as u,c as a,d as G,e as C}from"./CTable-B-RxtUN2.js";import{C as L}from"./CTooltip-B4J993Ak.js";import{c as v}from"./cil-magnifying-glass-COgjSVTM.js";import{C as F}from"./CAlert-SboAE9ZE.js";import{C as g,a as f}from"./CRow-_3QvRquT.js";import"./authService-A_B9THQN.js";import"./CInputGroupText-XlONipke.js";import"./CFormSelect-D1Z_Sqik.js";import"./CFormControlWrapper-FIG7_FEJ.js";import"./CFormControlValidation-BPI09zOM.js";import"./CFormLabel-CpnmmC-s.js";import"./getRTLPlacement-DTcC2H-R.js";const B=({gender:h,category:r,data:c})=>{const i=T(),{filters:m,setFilters:p}=i;return e.jsxs(w,{className:"mb-4",children:[e.jsxs(b,{children:[e.jsx("strong",{children:"Live Standings"})," - ",h," | ",r," Category"]}),e.jsx(_,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(a,{scope:"col",children:"Team Status"}),e.jsx(a,{scope:"col",children:"Athlete"}),e.jsxs(a,{scope:"col",children:["Barehand (",j[r.split(",")[0].trim()],")"]}),e.jsxs(a,{scope:"col",children:["Weapon 1 (",j[r.split(",")[1].trim()],")"]}),r.split(",").length>2&&e.jsxs(a,{scope:"col",children:["Weapon 2 (",j[r.split(",")[2].trim()],")"]}),e.jsx(a,{scope:"col",children:"Avg. Score"})]})}),e.jsx(G,{children:Object.values(c).map((n,t)=>{const x="#"+(t+1),d=r.split(",").map(s=>s.trim()).map(s=>n.events.find(l=>l.event.includes(s))),o=d.map(s=>parseFloat(s==null?void 0:s.finalScore)).filter(s=>!isNaN(s)),E=(o.length>0?o.reduce((s,l)=>s+l,0)/o.length:0).toFixed(3),N=window.location.hash.split("/")[1];return e.jsxs(u,{children:[e.jsx(a,{scope:"row",children:x}),e.jsx(C,{children:n.competitor.name}),d.map((s,l)=>e.jsx(C,{children:s&&s.nandu?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`#/${N}/scorecard`,onClick:J=>{p({genderFilter:window.location.hash.includes("male")?"MALES":"FEMALES",categoryFilter:m.categoryFilter,eventFilter:s.event.split(" ")[s.event.split(" ").length-1],athleteFilter:n.competitor.name})},children:s.finalScore??"0.000"}),e.jsx(L,{content:s.nandu.join(", "),children:e.jsx(y,{icon:v,size:"sm",className:"ms-2",style:{cursor:"pointer"}})})]}):e.jsx("p",{children:s?s.score??"0.000":"-"})},l)),e.jsx(C,{children:E})]},t)})})]})})]})},te=()=>{const h=T(),{data:r,filters:c}=h,{athleteData:i,date:m,isLoading:p,error:n}=r;if(p)return e.jsx("div",{children:"Loading..."});if(n)return e.jsx(F,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const t=window.location.hash.includes("female")?"FEMALES":"MALES",x={CQ_DS_GS:i[t].CQ_DS_GS,CQ_JS_QS:i[t].CQ_JS_QS,NQ_ND_NG:i[t].NQ_ND_NG,TQ_TJ:i[t].TQ_TJ},d=(c.categoryFilter?[c.categoryFilter]:Object.keys(S)).map(o=>e.jsx(g,{children:e.jsx(f,{xs:12,children:e.jsx(B,{gender:window.location.hash.includes("female")?"Female":"Male",category:S[o],data:x[o]})})},o));return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx(f,{xs:12,children:e.jsxs(F,{color:"info",children:["Standings as of ",m,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(g,{children:e.jsx(f,{xs:12,children:e.jsxs(w,{className:"mb-4",children:[e.jsx(b,{children:e.jsx("strong",{children:"Standing Filters"})}),e.jsx(_,{children:e.jsx(Q,{showGenderFilter:!1,showCategoryFilter:!0,showEventFilter:!1,showAthleteFilter:!1})})]})})}),d]})};export{te as default};
