import{j as e}from"./index-16zc7yJw.js";import{J as E,r as B}from"./DefaultLayout-D5GjBpe1.js";import{C as g}from"./categoryMap-DHDUkJdo.js";import{E as u,S as v}from"./SportdataFilters-mQCucSGh.js";import{c as D}from"./index.esm-BlLqbOSM.js";import{d as G}from"./determineAdultWushuTeam-Bzc9rpuI.js";import{C as w,a as _}from"./CCardBody-Bte3URmB.js";import{C as N}from"./CCardHeader-CLDTBYJt.js";import{C as J,a as O,b as F,c as i,d as R,e as x}from"./CTable-Bm50hYkW.js";import{C as K}from"./CTooltip-i7tFmtpp.js";import{C as b}from"./CAlert-BWHF-HuM.js";import{C,a as j}from"./CRow-CTCqWGsx.js";import"./authService-SQkMVopA.js";import"./CInputGroupText-CWohHevt.js";import"./CFormSelect-kEs-GuW5.js";import"./CFormControlWrapper-CTu60AVV.js";import"./CFormControlValidation-D9jLbCKr.js";import"./CFormLabel-zcWw63t_.js";import"./getRTLPlacement-DsyZcmMp.js";function H(n,s,o){return o.aTeam.find(r=>r.name===n&&r.representingCategory===s)?"A Team":o.bTeam.find(r=>r.name===n&&r.representingCategory===s)?"B Team":o.cTeam.find(r=>r.name===n&&r.representingCategory===s)?"C Team":"Not Assigned"}function V(n){var s;return((s=Object.entries(g).find(([o,a])=>a===n))==null?void 0:s[0])||null}const W=({gender:n,category:s,data:o})=>{const a=E(),{data:m,filters:h,setFilters:r}=a,{athleteData:l,date:T,isLoading:y,error:S}=m,d=n==="Male"?"MALES":"FEMALES",I=window.location.hash.includes("adults"),L=G(l[d]);return e.jsxs(w,{className:"mb-4",children:[e.jsxs(N,{children:[e.jsx("strong",{children:"Live Standings"})," - ",n," | ",s," Category"]}),e.jsx(_,{children:e.jsxs(J,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(O,{children:e.jsxs(F,{children:[e.jsx(i,{scope:"col",children:"Team Status"}),e.jsx(i,{scope:"col",children:"Athlete"}),e.jsxs(i,{scope:"col",children:["Barehand (",u[s.split(",")[0].trim()],")"]}),e.jsxs(i,{scope:"col",children:["Weapon 1 (",u[s.split(",")[1].trim()],")"]}),s.split(",").length>2&&e.jsxs(i,{scope:"col",children:["Weapon 2 (",u[s.split(",")[2].trim()],")"]}),e.jsx(i,{scope:"col",children:"Avg. Score"})]})}),e.jsx(R,{children:Object.values(o).map((c,A)=>{let p=H(c.competitor.name,V(s),L);(p==="Not Assigned"||!I)&&(p=`#${A+1}`);const M=s.split(",").map(t=>t.trim()).map(t=>c.events.find(f=>f.event.includes(t))),Q=window.location.hash.split("/")[1];return e.jsxs(F,{children:[e.jsx(i,{scope:"row",children:p}),e.jsxs(x,{children:[c.competitor.name,c.calculations.aTeamEligible&&e.jsx(K,{content:"Eligible for A Team",children:e.jsx(D,{icon:B,size:"sm",className:"ms-2",color:"success"})})]}),M.map((t,f)=>e.jsx(x,{children:t&&t.nandu?e.jsx(e.Fragment,{children:e.jsx("a",{href:`#/${Q}/scorecard`,onClick:$=>{r({genderFilter:window.location.hash.includes("male")?"MALES":"FEMALES",categoryFilter:h.categoryFilter,eventFilter:t.event.split(" ")[t.event.split(" ").length-1],athleteFilter:c.competitor.name})},children:t.finalScore??"0.000"})}):e.jsx("p",{children:t?t.finalScore??"0.000":"-"})},f)),e.jsx(x,{children:c.calculations.averageFinalScore})]},A)})})]})})]})},he=()=>{const n=E(),{data:s,filters:o}=n,{athleteData:a,date:m,isLoading:h,error:r}=s;if(h)return e.jsx("div",{children:"Loading..."});if(r)return e.jsx(b,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const l=window.location.hash.includes("female")?"FEMALES":"MALES",T={CQ_DS_GS:a[l].CQ_DS_GS,CQ_JS_QS:a[l].CQ_JS_QS,NQ_ND_NG:a[l].NQ_ND_NG,TQ_TJ:a[l].TQ_TJ},S=(o.categoryFilter?[o.categoryFilter]:Object.keys(g)).map(d=>e.jsx(C,{children:e.jsx(j,{xs:12,children:e.jsx(W,{gender:window.location.hash.includes("female")?"Female":"Male",category:g[d],data:T[d]})})},d));return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(j,{xs:12,children:e.jsxs(b,{color:"info",children:["Standings as of ",m,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(C,{children:e.jsx(j,{xs:12,children:e.jsxs(w,{className:"mb-4",children:[e.jsx(N,{children:e.jsx("strong",{children:"Standing Filters"})}),e.jsx(_,{children:e.jsx(v,{showGenderFilter:!1,showCategoryFilter:!0,showEventFilter:!1,showAthleteFilter:!1})})]})})}),S]})};export{he as default};
