import{r as c,j as e}from"./index-Bsvrp4C4.js";import{g as R}from"./getData-DLaOjktY.js";import{C as y}from"./CAlert-CYNsQOT0.js";import{C as H}from"./CAlertLink-XMnrDeC1.js";import{C as o,a as u}from"./CRow-C_UyvV6X.js";import{C as T,a as w}from"./CCardBody-D_1wkhn3.js";import{C as D}from"./CCardHeader-Cwhi9V89.js";import{C as i,a as h}from"./CInputGroupText-XAeOZtQg.js";import{C as m}from"./CFormSelect-B6uOAUFB.js";import{C as M}from"./CFormInput-D72oZ_7F.js";import{a as O}from"./index.es-Hqjms8rZ.js";import{C as K,a as W,b as A,c as t,d as _,e as n}from"./CTable-DQLBBuMb.js";import"./DefaultLayout-MkPcxr-p.js";import"./CFormControlWrapper-DJO2rOYD.js";import"./CFormControlValidation-Dz4WHWu6.js";import"./CFormLabel-w58t7XaW.js";const te=()=>{const[d,C]=c.useState(""),[x,g]=c.useState(""),[j,f]=c.useState(""),[v,S]=c.useState(""),[G,p]=c.useState({athleteData:{},schools:[],loading:!0,error:null});c.useEffect(()=>{const r=()=>{R().then(a=>{p(a)}).catch(a=>{p({athleteData:{},schools:[],loading:!0,error:null})})};r();const s=setInterval(r,1*60*1e3);return()=>clearInterval(s)},[p]);const{athleteData:N,schools:B,loading:I,error:k,syncDate:E}=G;return I?e.jsx("div",{children:"Loading..."}):k?e.jsxs(y,{color:"danger",children:["An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen and check the ",e.jsx(H,{href:"https://bowuu.com/all-results",target:"_blank",children:"Official Total Scores"}),"."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{children:e.jsx(u,{xs:12,children:e.jsxs(y,{color:"info",children:["Scores as of ",E,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(o,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(D,{children:e.jsx("strong",{children:"Total Score Filters"})}),e.jsxs(w,{children:[e.jsx(o,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Gender: "}),e.jsxs(m,{value:d,onChange:r=>C(r.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})}),e.jsx(o,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Group: "}),e.jsxs(m,{value:x,onChange:r=>g(r.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"})]})]})}),e.jsx(o,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"School: "}),e.jsxs(m,{value:j,onChange:r=>f(r.target.value),children:[e.jsx("option",{value:"",children:"*"}),B.map((r,s)=>e.jsx("option",{value:r,children:r},s))]})]})}),e.jsx(o,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Athlete: "}),e.jsx(M,{value:v,onChange:r=>S(r.target.value)})]})}),e.jsx("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:e.jsx(O,{style:{},color:"primary",onClick:()=>{C(""),g(""),f(""),S("")},children:"Reset Filters"})})]})]})})}),e.jsx(o,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(D,{children:e.jsx("strong",{children:"Total Scores"})}),e.jsx(w,{children:e.jsxs(K,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(W,{children:e.jsxs(A,{children:[e.jsx(t,{scope:"col",children:"Group"}),e.jsx(t,{scope:"col",children:"Gender"}),e.jsx(t,{scope:"col",children:"School"}),e.jsx(t,{scope:"col",children:"Athlete"}),e.jsx(t,{scope:"col",children:"Final Score"}),e.jsx(t,{scope:"col",children:"Barehand Scores"}),e.jsx(t,{scope:"col",children:"Weapon Scores"})]})}),e.jsx(_,{children:Object.entries(N).map(([r,s])=>{const a=s.events.sort((l,L)=>L.score-l.score),b=[],F=[];if(a.map(l=>{l.class==="Barehand"?b.push(l.type+" - "+l.score):F.push(l.type+" - "+l.score)}),(s.group===x||x==="")&&(s.gender===d||d==="")&&(s.school===j||j==="")&&s.athlete.toLowerCase().includes(v.toLowerCase()))return e.jsxs(A,{children:[e.jsx(n,{children:s.group}),e.jsx(n,{children:s.gender}),e.jsx(n,{children:s.school}),e.jsx(n,{children:s.athlete}),e.jsx(n,{children:s.finalScore}),e.jsx(n,{children:b.join(", ")}),e.jsx(n,{children:F.join(", ")})]},r)})})]})})]})})})]})};export{te as default};
