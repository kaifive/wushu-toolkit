import{j as e}from"./index-nG36oBQC.js";import{K as f}from"./DefaultLayout-FROm0sAc.js";import"./index.es-5MqXN46r.js";import{C as T,a as B}from"./CCardBody-mN8Ux6kQ.js";import{C as G}from"./CCardHeader-CO9I9S1K.js";import{C as O,a as E,b as g,c as n,d as N,e as d}from"./CTable-yAgPml_N.js";import{C}from"./CAlert-DLzc7dL3.js";import{C as S,a as A}from"./CRow-DJvIfwLk.js";import"./authService-DXV_FMY1.js";const D=({gender:c,group:o,data:i})=>{const l=Object.values(i).sort((s,a)=>a.totalScores-s.totalScores);return e.jsxs(T,{className:"mb-4",children:[e.jsxs(G,{children:[e.jsx("strong",{children:"Live Standings"})," - ",c," | ",o," Group"]}),e.jsx(B,{children:e.jsxs(O,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(E,{children:e.jsxs(g,{children:[e.jsx(n,{scope:"col",children:"Rank"}),e.jsx(n,{scope:"col",children:"Athlete"}),e.jsx(n,{scope:"col",children:"Barehand"}),e.jsx(n,{scope:"col",children:"Short Weapon"}),e.jsx(n,{scope:"col",children:"Long Weapon"}),e.jsx(n,{scope:"col",children:"Discipline"}),e.jsx(n,{scope:"col",children:"Total Score"})]})}),e.jsx(N,{children:Object.values(l).map((s,a)=>{let x=`#${a+1}`;const p=["CQ","NQ","TQ"],j=["DS","JS","ND","TJ","TS"],m=["GS","QS","NG"],h=[],u=[],b=[];return Object.entries(s.events).map(([r,t])=>{p.includes(t.abbreviation)?h.push(t):j.includes(t.abbreviation)?u.push(t):m.includes(t.abbreviation)&&b.push(t)}),e.jsxs(g,{children:[e.jsx(n,{scope:"row",children:x}),e.jsx(d,{children:s.athleteName}),e.jsx(d,{children:h.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.finalScore).toFixed(3)]},r.name))}),e.jsx(d,{children:u.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.finalScore).toFixed(3)]},r.name))}),e.jsx(d,{children:b.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.finalScore).toFixed(3)]},r.name))}),e.jsx(d,{children:s.topDiscipline}),e.jsx(d,{children:parseFloat(s.totalScores).toFixed(3)})]},a)})})]})})]})};function F(c,o){const i=Object.entries(c).filter(([s,a])=>a.gender===o);return Object.fromEntries(i)}function R(c){const o={},i={},l={};return Object.entries(c).forEach(([s,a])=>{switch(a.ageGroup){case"A":o[s]=a;break;case"B":i[s]=a;break;case"C":l[s]=a;break}}),{aGroup:o,bGroup:i,cGroup:l}}const J=()=>{const c=f(),{data:o,filters:i}=c,{athleteData:l,date:s,isLoading:a,error:x}=o;if(a)return e.jsx("div",{children:"Loading..."});if(x)return e.jsx(C,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const p=window.location.hash.includes("female")?"Female":"Male",j=F(l,p),{aGroup:m,bGroup:h,cGroup:u}=R(j),r=[{group:"A",data:m},{group:"B",data:h},{group:"C",data:u}].map(t=>e.jsx(S,{children:e.jsx(A,{xs:12,children:e.jsx(D,{gender:p,group:t.group,data:t.data})})},`${p}_${t.group}_Group`));return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx(A,{xs:12,children:e.jsxs(C,{color:"info",children:["Standings as of ",s,". To update scores, refresh this page or wait 1 minute."]})})}),r]})};export{J as default};
