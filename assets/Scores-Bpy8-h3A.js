import{j as e}from"./index-DRcrWj3Z.js";import{J as A}from"./DefaultLayout-Ck7QBS7r.js";import"./index.esm-D2qThmxT.js";import{d as N,g as B,a as D}from"./categorizeAthleteData-B4dQ0D5Z.js";import{C as E,a as F}from"./CCardBody-QfoBlS0K.js";import{C as G}from"./CCardHeader-B-D14JWO.js";import{C as R,a as O,b as S,c as o,d as v,e as l}from"./CTable-CH2cYC0Y.js";import{C as g}from"./CAlert-KaVW9-dl.js";import{C as b,a as T}from"./CRow-CU0IGWM8.js";import"./authService-C3zMc4KH.js";const _=({gender:p,group:c,data:m})=>{const x=Object.values(m).sort((a,t)=>t.totalScores-a.totalScores),i=N(m,c);return e.jsxs(E,{className:"mb-4",children:[e.jsxs(G,{children:[e.jsx("strong",{children:"Live Standings"})," - ",p," | ",c," Group"]}),e.jsx(F,{children:e.jsxs(R,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(O,{children:e.jsxs(S,{children:[e.jsx(o,{scope:"col",children:"Rank"}),e.jsx(o,{scope:"col",children:"Athlete"}),e.jsx(o,{scope:"col",children:"Barehand"}),e.jsx(o,{scope:"col",children:"Short Weapon"}),e.jsx(o,{scope:"col",children:"Long Weapon"}),e.jsx(o,{scope:"col",children:"Discipline"}),e.jsx(o,{scope:"col",children:"Total Score"})]})}),e.jsx(v,{children:Object.values(x).map((a,t)=>{let r=`#${t+1}`;i.A.find(s=>s.athleteName===a.athleteName)?r="A Team":i.B.find(s=>s.athleteName===a.athleteName)?r="B Team":i.C.find(s=>s.athleteName===a.athleteName)&&(r="C Team");const u=["CQ","NQ","TQ"],j=["DS","JS","ND","TJ","TS"],C=["GS","QS","NG"],d=[],f=[],h=[];return Object.entries(a.events).map(([s,n])=>{u.includes(n.abbreviation)?d.push(n):j.includes(n.abbreviation)?f.push(n):C.includes(n.abbreviation)&&h.push(n)}),e.jsxs(S,{children:[e.jsx(o,{scope:"row",children:r}),e.jsx(l,{children:a.athleteName}),e.jsx(l,{children:d.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:f.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:h.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:a.topDiscipline}),e.jsx(l,{children:parseFloat(a.totalScores).toFixed(3)})]},t)})})]})})]})},K=()=>{const p=A(),{data:c,filters:m}=p,{athleteData:x,date:i,isLoading:a,error:t}=c;if(a)return e.jsx("div",{children:"Loading..."});if(t)return e.jsx(g,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const r=window.location.hash.includes("female")?"Female":"Male",u=B(x,r),{aGroup:j,bGroup:C,cGroup:d}=D(u),h=[{group:"A",data:j},{group:"B",data:C},{group:"C",data:d}].map(s=>e.jsx(b,{children:e.jsx(T,{xs:12,children:e.jsx(_,{gender:r,group:s.group,data:s.data})})},`${r}_${s.group}_Group`));return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(T,{xs:12,children:e.jsxs(g,{color:"info",children:["Standings as of ",i,". To update scores, refresh this page or wait 1 minute."]})})}),h]})};export{K as default};
