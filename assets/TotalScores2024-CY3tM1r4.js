import{r as a,j as e}from"./index-Dl3DiWb5.js";import{s as H,g as M}from"./sortStandings-Dfzdx6pk.js";import{C as y}from"./CAlert-Drm2ak7I.js";import{C as O}from"./CAlertLink-b0DpdYYc.js";import{C as l,a as u}from"./CRow-CnAK2m12.js";import{C as T,a as w}from"./CCardBody-U6-QqnpJ.js";import{C as A}from"./CCardHeader-YD1Img6q.js";import{C as i,a as h}from"./CInputGroupText-DzeTuzHg.js";import{C as m}from"./CFormSelect-CuQ5ThQC.js";import{C as K}from"./CFormInput-C2MatKp6.js";import{a as W}from"./index.es-BPimW0q8.js";import{C as _,a as q,b as D,c as o,d as z,e as n}from"./CTable-1H6tvePP.js";import"./authService-C0ng-Cxg.js";import"./CFormControlWrapper-Cdp7FWDW.js";import"./CFormControlValidation-I8hZnBUN.js";import"./CFormLabel-DoOP6C1Z.js";const ae=()=>{const[d,C]=a.useState(""),[x,g]=a.useState(""),[j,f]=a.useState(""),[v,S]=a.useState(""),[N,p]=a.useState({athleteData:{},schools:[],loading:!0,error:null});a.useEffect(()=>{const s=()=>{M().then(c=>{p(c)}).catch(c=>{p({athleteData:{},schools:[],loading:!0,error:null})})};s();const r=setInterval(s,1*60*1e3);return()=>clearInterval(r)},[p,setInterval]);const{athleteData:G,schools:I,loading:B,error:E,syncDate:k}=N,L=H(G);return B?e.jsx("div",{children:"Loading..."}):E?e.jsxs(y,{color:"danger",children:["An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen and check the ",e.jsx(O,{href:"https://bowuu.com/all-results",target:"_blank",children:"Official Total Scores"}),"."]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(y,{color:"info",children:["Scores as of ",k,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(A,{children:e.jsx("strong",{children:"Total Score Filters"})}),e.jsxs(w,{children:[e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Gender: "}),e.jsxs(m,{value:d,onChange:s=>C(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Group: "}),e.jsxs(m,{value:x,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"})]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"School: "}),e.jsxs(m,{value:j,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),I.map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Athlete: "}),e.jsx(K,{value:v,placeholder:"Enter Athlete Name",onChange:s=>S(s.target.value)})]})}),e.jsx("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:e.jsx(W,{style:{},color:"primary",onClick:()=>{C(""),g(""),f(""),S("")},children:"Reset Filters"})})]})]})})}),e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(A,{children:e.jsx("strong",{children:"Total Scores"})}),e.jsx(w,{children:e.jsxs(_,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(q,{children:e.jsxs(D,{children:[e.jsx(o,{scope:"col",children:"Group"}),e.jsx(o,{scope:"col",children:"Gender"}),e.jsx(o,{scope:"col",children:"School"}),e.jsx(o,{scope:"col",children:"Athlete"}),e.jsx(o,{scope:"col",children:"Final Score"}),e.jsx(o,{scope:"col",children:"Barehand Scores"}),e.jsx(o,{scope:"col",children:"Weapon Scores"})]})}),e.jsx(z,{children:Object.entries(L).map(([s,r])=>{const c=r.events.sort((t,R)=>R.score-t.score),b=[],F=[];if(c.map(t=>{t.class==="Barehand"?b.push(t.type+" - "+t.score):F.push(t.type+" - "+t.score)}),(r.group===x||x==="")&&(r.gender===d||d==="")&&(r.school===j||j==="")&&r.athlete.toLowerCase().includes(v.toLowerCase()))return e.jsxs(D,{children:[e.jsx(n,{children:r.group}),e.jsx(n,{children:r.gender}),e.jsx(n,{children:r.school}),e.jsx(n,{children:r.athlete}),e.jsx(n,{children:r.finalScore}),e.jsx(n,{children:b.join(", ")}),e.jsx(n,{children:F.join(", ")})]},s)})})]})})]})})})]})};export{ae as default};
