import{j as e,r as F}from"./index-BR73Dzou.js";import{J as y}from"./DefaultLayout-B4_XGzHc.js";import{N as W}from"./constants-BD5-ufyA.js";import{C as j}from"./CAlert-BhVUlizn.js";import{C as n,a}from"./CRow-C3mIyCLp.js";import{C as i,a as c}from"./CCardBody-DGbgXaEm.js";import{C as f}from"./CCardHeader-CoodQduX.js";import{b as z,a as D}from"./index.esm-ga6o1Zh4.js";import{C as p}from"./CCardText-vQ79q6lf.js";import{C as E,a as L}from"./CInputGroupText-CnOmCCow.js";import{C as T}from"./CFormSelect-Ch75-6v2.js";import"./authService-uU-CdBoj.js";import"./CFormControlWrapper-BwgrEeDA.js";import"./CFormControlValidation-B4AH5j-C.js";import"./CFormLabel-Ci7X8ihX.js";const w=({athleteInfo:r,eventInfo:s})=>{var o;const l=y(),{data:d,filters:u,setFilters:g}=l,{athleteData:N,date:C,isLoading:m,error:h}=d;return m?e.jsx("div",{children:"Loading..."}):h?e.jsx(j,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."}):e.jsx(e.Fragment,{children:e.jsx(n,{children:e.jsx(a,{xs:12,children:e.jsxs(i,{className:"mb-4",children:[e.jsxs(f,{children:[e.jsxs("strong",{children:[r.athleteName," Scorecard"]})," | ",s.name]}),e.jsx(c,{children:e.jsxs(z,{children:[e.jsxs(n,{className:"justify-content-center align-items-center text-center",children:[e.jsx(a,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(b,{label:"A SCORE",value:parseFloat((s==null?void 0:s.a)??0)})}),e.jsx(a,{xs:"12",md:"10",children:e.jsx(O,{codes:(s==null?void 0:s.deductions)??[]})})]}),e.jsxs(n,{className:"justify-content-center align-items-center text-center",children:[e.jsx(a,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(b,{label:"B SCORE",value:parseFloat((s==null?void 0:s.b)??0)})}),e.jsx(a,{xs:"12",md:"10",children:e.jsx(R,{scores:(s==null?void 0:s.bScores)??[],booleans:((o=s==null?void 0:s.b)==null?void 0:o.isNotDropped)??[]})})]}),e.jsxs(n,{className:"justify-content-center align-items-center text-center",children:[e.jsx(a,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(B,{value:s==null?void 0:s.adjustment})}),e.jsx(a,{xs:"12",md:"10",children:e.jsx(H,{value:parseFloat((s==null?void 0:s.finalScore)??0)})})]})]})})]})})})})},b=({label:r,value:s})=>e.jsx(i,{className:"text-center border-0 p-0",children:e.jsxs(c,{className:"p-2",children:[e.jsx("div",{className:"text-primary",style:{fontSize:"1.75rem",fontWeight:"bold"},children:s.toFixed(3)}),e.jsx(p,{className:"text-muted mb-1",style:{fontSize:"0.75rem"},children:r})]})}),O=({codes:r})=>e.jsx(i,{className:"border-0 p-0",children:e.jsx(c,{className:"d-flex flex-wrap justify-content-center justify-content-md-start gap-2 p-2",style:{alignItems:"center"},children:r.map((s,l)=>s==="0.0"?e.jsx("div",{},l):e.jsx(D,{variant:"ghost",className:"d-flex flex-column align-items-center justify-content-center",style:{fontWeight:"bold",fontSize:"1.rem"},color:"danger",href:`#/toolkit/deduction-code-lookup?code=${s}`,target:"_blank",children:s},l))})}),R=({scores:r,booleans:s})=>e.jsx(i,{className:"border-0 p-0",children:e.jsx(c,{className:"d-flex flex-wrap justify-content-center justify-content-md-start gap-2 p-2",style:{alignItems:"center"},children:r.map((l,d)=>e.jsx(i,{className:"border-0 p-0",children:e.jsx(c,{className:"d-flex gap-2 bg-body-secondary rounded px-2 py-1",style:{fontWeight:"bold",fontSize:"1.rem"},children:e.jsx(p,{className:`text-${s[d]?"success":"danger"} mb-1`,children:l})})},d))})}),B=({value:r})=>!r||(r==null?void 0:r.length)===0?e.jsx(e.Fragment,{}):e.jsx(i,{className:"text-center border-0 p-0",children:e.jsxs(c,{className:"p-2",children:[e.jsx("div",{className:`text-${r.includes("-")?"danger":"success"}`,style:{fontSize:"1.75rem",fontWeight:"bold"},children:r}),e.jsx(p,{className:"text-muted mb-1",style:{fontSize:"0.75rem"},children:"ADJUSTMENTS"})]})}),H=({value:r})=>e.jsx(i,{className:"text-center border-0 p-0",children:e.jsxs(c,{className:"p-2 d-flex flex-column flex-md-row align-items-center gap-3",children:[e.jsx("div",{className:"text-muted",style:{fontSize:"2.75rem"},children:e.jsx("div",{children:"FINAL SCORE"})}),e.jsx("div",{className:"text-primary",style:{fontSize:"2.75rem",fontWeight:"bold",lineHeight:1,display:"flex",alignItems:"center"},children:r.toFixed(3)})]})}),v=()=>{const r=y(),{data:s,filters:l,setFilters:d}=r,{athleteData:u,date:g,isLoading:N,error:C}=s,[m,h]=F.useState("");if(N)return e.jsx("div",{children:"Loading..."});if(C)return e.jsx(j,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const o=Object.entries(u).filter(([t])=>W.includes(t.split("_")[0])),S=o.filter(([t,x])=>t.includes(m.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx(n,{children:e.jsx(a,{xs:12,children:e.jsxs(j,{color:"info",children:["Data as of ",g,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(n,{children:e.jsx(a,{xs:12,children:e.jsxs(i,{className:"mb-4",children:[e.jsx(f,{children:e.jsx("strong",{children:"Scorecard Selection"})}),e.jsx(c,{children:e.jsxs(E,{className:"mb-3",children:[e.jsx(L,{children:"Search by Name"}),e.jsxs(T,{"aria-label":"Select Athlete",value:m,onChange:t=>{const x=t.target.value;h(x)},children:[e.jsx("option",{value:"",children:"All Athletes"}),o.map(t=>e.jsx("option",{value:t[1].athleteName,children:t[1].athleteName},t[1].athleteName))]})]})})]})})}),S.map(t=>Object.entries(t[1].events).map(([x,A])=>e.jsx(w,{athleteInfo:t[1],eventInfo:A},t[1].athleteName+x)))]})};export{v as default};
