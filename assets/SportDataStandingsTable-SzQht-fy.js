import{j as e}from"./index-DISsdtxp.js";import{J as b}from"./DefaultLayout-CyrujyI5.js";import{C as g}from"./categoryMap-DHDUkJdo.js";import{E as u,S as B}from"./SportdataFilters-0nY8kxKb.js";import{c as D}from"./index.esm-ytaZOxRY.js";import{d as v}from"./determineAdultWushuTeam-Bzc9rpuI.js";import{C as E,a as _}from"./CCardBody-Bu6RHuXG.js";import{C as y}from"./CCardHeader-CDuWVvGA.js";import{C as G,a as J,b as F,c as i,d as O,e as x}from"./CTable-DfKPQvUu.js";import{C as R}from"./CTooltip-DLz3N8Xf.js";import{c as K}from"./cil-magnifying-glass-COgjSVTM.js";import{C as w}from"./CAlert-IpwLOZm4.js";import{C as j,a as C}from"./CRow-B6QynIDt.js";import"./authService-D5DY1f8A.js";import"./CInputGroupText-BlU2l0E3.js";import"./CFormSelect-CT9nM8m6.js";import"./CFormControlWrapper-DQcj9ht7.js";import"./CFormControlValidation-BQ_yQhyM.js";import"./CFormLabel-z1sv6xCn.js";import"./getRTLPlacement-DVUeCQNN.js";function H(n,s,o){return o.aTeam.find(r=>r.name===n&&r.representingCategory===s)?"A Team":o.bTeam.find(r=>r.name===n&&r.representingCategory===s)?"B Team":o.cTeam.find(r=>r.name===n&&r.representingCategory===s)?"C Team":"Not Assigned"}function V(n){var s;return((s=Object.entries(g).find(([o,a])=>a===n))==null?void 0:s[0])||null}const W=({gender:n,category:s,data:o})=>{const a=b(),{data:m,filters:p,setFilters:r}=a,{athleteData:l,date:T,isLoading:N,error:S}=m,c=n==="Male"?"MALES":"FEMALES",I=window.location.hash.includes("adults"),M=v(l[c]);return e.jsxs(E,{className:"mb-4",children:[e.jsxs(y,{children:[e.jsx("strong",{children:"Live Standings"})," - ",n," | ",s," Category"]}),e.jsx(_,{children:e.jsxs(G,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(J,{children:e.jsxs(F,{children:[e.jsx(i,{scope:"col",children:"Team Status"}),e.jsx(i,{scope:"col",children:"Athlete"}),e.jsxs(i,{scope:"col",children:["Barehand (",u[s.split(",")[0].trim()],")"]}),e.jsxs(i,{scope:"col",children:["Weapon 1 (",u[s.split(",")[1].trim()],")"]}),s.split(",").length>2&&e.jsxs(i,{scope:"col",children:["Weapon 2 (",u[s.split(",")[2].trim()],")"]}),e.jsx(i,{scope:"col",children:"Avg. Score"})]})}),e.jsx(O,{children:Object.values(o).map((d,A)=>{let h=H(d.competitor.name,V(s),M);(h==="Not Assigned"||!I)&&(h=`#${A+1}`);const L=s.split(",").map(t=>t.trim()).map(t=>d.events.find(f=>f.event.includes(t))),Q=window.location.hash.split("/")[1];return e.jsxs(F,{children:[e.jsx(i,{scope:"row",children:h}),e.jsx(x,{children:d.competitor.name}),L.map((t,f)=>e.jsx(x,{children:t&&t.nandu?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`#/${Q}/scorecard`,onClick:k=>{r({genderFilter:window.location.hash.includes("male")?"MALES":"FEMALES",categoryFilter:p.categoryFilter,eventFilter:t.event.split(" ")[t.event.split(" ").length-1],athleteFilter:d.competitor.name})},children:t.finalScore??"0.000"}),e.jsx(R,{content:t.nandu.join(", "),children:e.jsx(D,{icon:K,size:"sm",className:"ms-2",style:{cursor:"pointer"}})})]}):e.jsx("p",{children:t?t.score??"0.000":"-"})},f)),e.jsx(x,{children:d.calculations.averageFinalScore})]},A)})})]})})]})},he=()=>{const n=b(),{data:s,filters:o}=n,{athleteData:a,date:m,isLoading:p,error:r}=s;if(p)return e.jsx("div",{children:"Loading..."});if(r)return e.jsx(w,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const l=window.location.hash.includes("female")?"FEMALES":"MALES",T={CQ_DS_GS:a[l].CQ_DS_GS,CQ_JS_QS:a[l].CQ_JS_QS,NQ_ND_NG:a[l].NQ_ND_NG,TQ_TJ:a[l].TQ_TJ},S=(o.categoryFilter?[o.categoryFilter]:Object.keys(g)).map(c=>e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsx(W,{gender:window.location.hash.includes("female")?"Female":"Male",category:g[c],data:T[c]})})},c));return e.jsxs(e.Fragment,{children:[e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(w,{color:"info",children:["Standings as of ",m,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(E,{className:"mb-4",children:[e.jsx(y,{children:e.jsx("strong",{children:"Standing Filters"})}),e.jsx(_,{children:e.jsx(B,{showGenderFilter:!1,showCategoryFilter:!0,showEventFilter:!1,showAthleteFilter:!1})})]})})}),S]})};export{he as default};
