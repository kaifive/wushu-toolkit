import{j as e}from"./index-Cz0MInX2.js";import{J as A}from"./DefaultLayout-CUbSAqv3.js";import{S as D}from"./SportdataFilters-B3n6mN_R.js";import{C as b}from"./CAlert-Bwn9NilA.js";import{C as x,a as i}from"./CRow-BjEtyTus.js";import{C as l,a as d}from"./CCardBody-O9wis8-7.js";import{C as W}from"./CCardHeader-C58dRO1K.js";import{b as B,a as z}from"./index.esm-TvbcfVW1.js";import{C as f}from"./CCardText-DhePtC-m.js";import{C as E}from"./CTooltip-BBTAccuZ.js";import"./authService-Cep6O0U1.js";import"./categoryMap-DHDUkJdo.js";import"./CInputGroupText-Cj2RZo-m.js";import"./CFormSelect-CgAy5_zB.js";import"./CFormControlWrapper-BhSlWv4s.js";import"./CFormControlValidation-aEx-mFz_.js";import"./CFormLabel-N_bq0Vz1.js";import"./getRTLPlacement-DuhdvYqT.js";const O=({athleteInfo:s,eventInfo:r})=>{var g,y,N,c,a,S,F,w;const t=A(),{data:n,filters:h,setFilters:j}=t,{athleteData:p,date:u,isLoading:o,error:m}=n;return o?e.jsx("div",{children:"Loading..."}):m?e.jsx(b,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."}):e.jsx(e.Fragment,{children:e.jsx(x,{children:e.jsx(i,{xs:12,children:e.jsxs(l,{className:"mb-4",children:[e.jsxs(W,{children:[e.jsxs("strong",{children:[s.competitor.name," Scorecard"]})," | ",r.event]}),e.jsx(d,{children:e.jsxs(B,{children:[e.jsxs(x,{className:"justify-content-center align-items-center text-center",children:[e.jsx(i,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(C,{label:"A SCORE",value:parseFloat(((g=r==null?void 0:r.A)==null?void 0:g.score)??0)})}),e.jsx(i,{xs:"12",md:"10",children:e.jsx(R,{codes:((y=r==null?void 0:r.A)==null?void 0:y.deductions)??[]})})]}),e.jsxs(x,{className:"justify-content-center align-items-center text-center",children:[e.jsx(i,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(C,{label:"B SCORE",value:parseFloat(((N=r==null?void 0:r.B)==null?void 0:N.score)??0)})}),e.jsx(i,{xs:"12",md:"10",children:e.jsx(k,{scores:((c=r==null?void 0:r.B)==null?void 0:c.scores)??[],booleans:((a=r==null?void 0:r.B)==null?void 0:a.isNotDropped)??[]})})]}),e.jsxs(x,{className:"justify-content-center align-items-center text-center",children:[e.jsx(i,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(C,{label:"C SCORE",value:parseFloat(((S=r==null?void 0:r.C)==null?void 0:S.score)??0)})}),e.jsx(i,{xs:"12",md:"10",children:e.jsx(L,{counts:((F=r==null?void 0:r.C)==null?void 0:F.counts)||[],codeSequence:(r==null?void 0:r.nandu)||[],booleans:((w=r==null?void 0:r.C)==null?void 0:w.isNotMissed)||[]})})]}),e.jsxs(x,{className:"justify-content-center align-items-center text-center",children:[e.jsx(i,{xs:"12",md:"2",style:{minWidth:130},children:e.jsx(T,{value:r==null?void 0:r.adjustment})}),e.jsx(i,{xs:"12",md:"10",children:e.jsx($,{value:parseFloat((r==null?void 0:r.finalScore)??0)})})]})]})})]})})})})},C=({label:s,value:r})=>e.jsx(l,{className:"text-center border-0 p-0",children:e.jsxs(d,{className:"p-2",children:[e.jsx("div",{className:"text-primary",style:{fontSize:"1.75rem",fontWeight:"bold"},children:r.toFixed(3)}),e.jsx(f,{className:"text-muted mb-1",style:{fontSize:"0.75rem"},children:s})]})}),R=({codes:s})=>e.jsx(l,{className:"border-0 p-0",children:e.jsx(d,{className:"d-flex flex-wrap justify-content-center justify-content-md-start gap-2 p-2",style:{alignItems:"center"},children:s.map((r,t)=>r==="0.0"?e.jsx("div",{},t):e.jsx(z,{variant:"ghost",className:"d-flex flex-column align-items-center justify-content-center",style:{fontWeight:"bold",fontSize:"1.rem"},color:"danger",href:`#/toolkit/deduction-code-lookup?code=${r}`,target:"_blank",children:r},t))})}),k=({scores:s,booleans:r})=>e.jsx(l,{className:"border-0 p-0",children:e.jsx(d,{className:"d-flex flex-wrap justify-content-center justify-content-md-start gap-2 p-2",style:{alignItems:"center"},children:s.map((t,n)=>e.jsx(l,{className:"border-0 p-0",children:e.jsx(d,{className:"d-flex gap-2 bg-body-secondary rounded px-2 py-1",style:{fontWeight:"bold",fontSize:"1.rem"},children:e.jsx(f,{className:`text-${r[n]?"success":"danger"} mb-1`,children:t})})},n))})}),L=({counts:s,codeSequence:r,booleans:t})=>{let n=1;return r.length===0?e.jsx(b,{color:"danger",children:"No Nandu Information Found. Athlete has not paid for registration yet."}):e.jsx(l,{className:"border-0 p-0",children:e.jsx(d,{className:"d-flex flex-wrap justify-content-center justify-content-md-start gap-2 p-2",style:{alignItems:"center"},children:r.map((h,j)=>{const p=h.split("+");return e.jsx(l,{className:"border-0 p-0",children:e.jsx(d,{className:"d-flex gap-2 bg-body-secondary rounded px-2 py-1",style:{flexShrink:0},children:p.map((u,o)=>{let m="secondary";return t[n-1]===!0?m="success":t[n-1]===!1&&(m="danger"),e.jsx(E,{content:`${o>0?"+":""}${u}`,placement:"top",children:e.jsx(z,{className:"d-flex flex-column align-items-center justify-content-center border-3 border-white",style:{width:"55px",height:"55px",borderRadius:"50%",color:"white",fontWeight:"bold",fontSize:"1.rem",flexShrink:0},color:m,children:n++},o)},o)})})},j)})})})},T=({value:s})=>!s||(s==null?void 0:s.length)===0?e.jsx(e.Fragment,{}):e.jsx(l,{className:"text-center border-0 p-0",children:e.jsxs(d,{className:"p-2",children:[e.jsx("div",{className:`text-${s.includes("-")?"danger":"success"}`,style:{fontSize:"1.75rem",fontWeight:"bold"},children:s}),e.jsx(f,{className:"text-muted mb-1",style:{fontSize:"0.75rem"},children:"ADJUSTMENTS"})]})}),$=({value:s})=>e.jsx(l,{className:"text-center border-0 p-0",children:e.jsxs(d,{className:"p-2 d-flex flex-column flex-md-row align-items-center gap-3",children:[e.jsx("div",{className:"text-muted",style:{fontSize:"2.75rem"},children:e.jsx("div",{children:"FINAL SCORE"})}),e.jsx("div",{className:"text-primary",style:{fontSize:"2.75rem",fontWeight:"bold",lineHeight:1,display:"flex",alignItems:"center"},children:s.toFixed(3)})]})}),se=()=>{const s=A(),{data:r,filters:t,setFilters:n}=s,{athleteData:h,date:j,isLoading:p,error:u}=r;return p?e.jsx("div",{children:"Loading..."}):u?e.jsx(b,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."}):e.jsxs(e.Fragment,{children:[e.jsx(x,{children:e.jsx(i,{xs:12,children:e.jsxs(b,{color:"info",children:["Data as of ",j,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(x,{children:e.jsx(i,{xs:12,children:e.jsxs(l,{className:"mb-4",children:[e.jsx(W,{children:e.jsx("strong",{children:"Scorecard Selection"})}),e.jsx(d,{children:e.jsx(D,{showGenderFilter:!0,showCategoryFilter:!0,showEventFilter:!0,showAthleteFilter:!0})})]})})}),Object.entries(h).map(([o,m])=>Object.entries(m).map(([g,y])=>Object.entries(y).map(([N,c])=>c.events.map(a=>t.genderFilter.length>0&&t.genderFilter!==o?e.jsx("div",{},c.competitor.name+a.event):t.categoryFilter.length>0&&t.categoryFilter!==g?e.jsx("div",{},c.competitor.name+a.event):t.athleteFilter.length>0&&t.athleteFilter!==N?e.jsx("div",{},c.competitor.name+a.event):t.eventFilter.length>0&&!a.event.includes(t.eventFilter)?e.jsx("div",{},c.competitor.name+a.event):e.jsx(O,{athleteInfo:c,eventInfo:a},c.competitor.name+a.event)))))]})};export{se as default};
