import{j as e}from"./index-Cz0MInX2.js";import{J as _,r as v}from"./DefaultLayout-CUbSAqv3.js";import{C as g}from"./categoryMap-DHDUkJdo.js";import{E as f,S as G}from"./SportdataFilters-B3n6mN_R.js";import{c as F}from"./index.esm-TvbcfVW1.js";import{d as J}from"./determineAdultWushuTeam-l3D7Ls3G.js";import{C as y,a as N}from"./CCardBody-O9wis8-7.js";import{C as I}from"./CCardHeader-C58dRO1K.js";import{C as O,a as R,b,c as a,d as K,e as x}from"./CTable-DTxM-VAv.js";import{C as E}from"./CTooltip-BBTAccuZ.js";import{c as H}from"./cil-magnifying-glass-COgjSVTM.js";import{C as w}from"./CAlert-Bwn9NilA.js";import{C as j,a as C}from"./CRow-BjEtyTus.js";import"./authService-Cep6O0U1.js";import"./CInputGroupText-Cj2RZo-m.js";import"./CFormSelect-CgAy5_zB.js";import"./CFormControlWrapper-BhSlWv4s.js";import"./CFormControlValidation-aEx-mFz_.js";import"./CFormLabel-N_bq0Vz1.js";import"./getRTLPlacement-DuhdvYqT.js";function V(n,s,o){return o.aTeam.find(r=>r.name===n&&r.representingCategory===s)?"A Team":o.bTeam.find(r=>r.name===n&&r.representingCategory===s)?"B Team":o.cTeam.find(r=>r.name===n&&r.representingCategory===s)?"C Team":"Not Assigned"}function W(n){var s;return((s=Object.entries(g).find(([o,i])=>i===n))==null?void 0:s[0])||null}const k=({gender:n,category:s,data:o})=>{const i=_(),{data:m,filters:p,setFilters:r}=i,{athleteData:l,date:T,isLoading:M,error:S}=m,d=n==="Male"?"MALES":"FEMALES",L=window.location.hash.includes("adults"),Q=J(l[d]);return e.jsxs(y,{className:"mb-4",children:[e.jsxs(I,{children:[e.jsx("strong",{children:"Live Standings"})," - ",n," | ",s," Category"]}),e.jsx(N,{children:e.jsxs(O,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(R,{children:e.jsxs(b,{children:[e.jsx(a,{scope:"col",children:"Team Status"}),e.jsx(a,{scope:"col",children:"Athlete"}),e.jsxs(a,{scope:"col",children:["Barehand (",f[s.split(",")[0].trim()],")"]}),e.jsxs(a,{scope:"col",children:["Weapon 1 (",f[s.split(",")[1].trim()],")"]}),s.split(",").length>2&&e.jsxs(a,{scope:"col",children:["Weapon 2 (",f[s.split(",")[2].trim()],")"]}),e.jsx(a,{scope:"col",children:"Avg. Score"})]})}),e.jsx(K,{children:Object.values(o).map((c,A)=>{let h=V(c.competitor.name,W(s),Q);(h==="Not Assigned"||!L)&&(h=`#${A+1}`);const B=s.split(",").map(t=>t.trim()).map(t=>c.events.find(u=>u.event.includes(t))),D=window.location.hash.split("/")[1];return e.jsxs(b,{children:[e.jsx(a,{scope:"row",children:h}),e.jsxs(x,{children:[c.competitor.name,c.calculations.aTeamEligible&&e.jsx(E,{content:"Eligible for A Team",children:e.jsx(F,{icon:v,size:"sm",className:"ms-2",color:"success"})})]}),B.map((t,u)=>e.jsx(x,{children:t&&t.nandu?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`#/${D}/scorecard`,onClick:$=>{r({genderFilter:window.location.hash.includes("male")?"MALES":"FEMALES",categoryFilter:p.categoryFilter,eventFilter:t.event.split(" ")[t.event.split(" ").length-1],athleteFilter:c.competitor.name})},children:t.finalScore??"0.000"}),e.jsx(E,{content:t.nandu.join(", "),children:e.jsx(F,{icon:H,size:"sm",className:"ms-2",style:{cursor:"pointer"}})})]}):e.jsx("p",{children:t?t.score??"0.000":"-"})},u)),e.jsx(x,{children:c.calculations.averageFinalScore})]},A)})})]})})]})},ue=()=>{const n=_(),{data:s,filters:o}=n,{athleteData:i,date:m,isLoading:p,error:r}=s;if(p)return e.jsx("div",{children:"Loading..."});if(r)return e.jsx(w,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const l=window.location.hash.includes("female")?"FEMALES":"MALES",T={CQ_DS_GS:i[l].CQ_DS_GS,CQ_JS_QS:i[l].CQ_JS_QS,NQ_ND_NG:i[l].NQ_ND_NG,TQ_TJ:i[l].TQ_TJ},S=(o.categoryFilter?[o.categoryFilter]:Object.keys(g)).map(d=>e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsx(k,{gender:window.location.hash.includes("female")?"Female":"Male",category:g[d],data:T[d]})})},d));return e.jsxs(e.Fragment,{children:[e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(w,{color:"info",children:["Standings as of ",m,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(y,{className:"mb-4",children:[e.jsx(I,{children:e.jsx("strong",{children:"Standing Filters"})}),e.jsx(N,{children:e.jsx(G,{showGenderFilter:!1,showCategoryFilter:!0,showEventFilter:!1,showAthleteFilter:!1})})]})})}),S]})};export{ue as default};
