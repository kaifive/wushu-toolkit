import{j as e}from"./index-y91JbauL.js";import{J as _,r as D}from"./DefaultLayout-C8WTm3bq.js";import{C as g}from"./categoryMap-DHDUkJdo.js";import{E as x,S as v}from"./SportdataFilters-C8wlzWJM.js";import{c as F}from"./index.esm-D4zJFI4-.js";import{d as G}from"./determineAdultWushuTeam-l3D7Ls3G.js";import{C as y,a as N}from"./CCardBody-BBxBMC34.js";import{C as I}from"./CCardHeader-8_5MgnbF.js";import{C as J,a as K,b,c as i,d as O,e as u}from"./CTable-D16gbPQW.js";import{C as E}from"./CTooltip-CRb-QjsI.js";import{c as R}from"./cil-magnifying-glass-COgjSVTM.js";import{C as w}from"./CAlert-2OvEEzwC.js";import{C as j,a as C}from"./CRow-CEqWn-E_.js";import"./authService-DK6GQO9R.js";import"./CInputGroupText-Dv45YGNM.js";import"./CFormSelect-CHAgho4j.js";import"./CFormControlWrapper-XHhzY80i.js";import"./CFormControlValidation-XT0djfii.js";import"./CFormLabel-BeuPn3Kw.js";import"./getRTLPlacement-DWVQT-A0.js";function H(n,s,o){return o.aTeam.find(r=>r.name===n&&r.representingCategory===s)?"A Team":o.bTeam.find(r=>r.name===n&&r.representingCategory===s)?"B Team":o.cTeam.find(r=>r.name===n&&r.representingCategory===s)?"C Team":"Not Assigned"}function V(n){var s;return((s=Object.entries(g).find(([o,a])=>a===n))==null?void 0:s[0])||null}const W=({gender:n,category:s,data:o})=>{const a=_(),{data:d,filters:m,setFilters:r}=a,{athleteData:l,date:T,isLoading:M,error:S}=d,L=G(l[n==="Male"?"MALES":"FEMALES"]);return e.jsxs(y,{className:"mb-4",children:[e.jsxs(I,{children:[e.jsx("strong",{children:"Live Standings"})," - ",n," | ",s," Category"]}),e.jsx(N,{children:e.jsxs(J,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(K,{children:e.jsxs(b,{children:[e.jsx(i,{scope:"col",children:"Team Status"}),e.jsx(i,{scope:"col",children:"Athlete"}),e.jsxs(i,{scope:"col",children:["Barehand (",x[s.split(",")[0].trim()],")"]}),e.jsxs(i,{scope:"col",children:["Weapon 1 (",x[s.split(",")[1].trim()],")"]}),s.split(",").length>2&&e.jsxs(i,{scope:"col",children:["Weapon 2 (",x[s.split(",")[2].trim()],")"]}),e.jsx(i,{scope:"col",children:"Avg. Score"})]})}),e.jsx(O,{children:Object.values(o).map((c,A)=>{let h=H(c.competitor.name,V(s),L);h==="Not Assigned"&&(h=`#${A+1}`);const Q=s.split(",").map(t=>t.trim()).map(t=>c.events.find(f=>f.event.includes(t))),B=window.location.hash.split("/")[1];return e.jsxs(b,{children:[e.jsx(i,{scope:"row",children:h}),e.jsxs(u,{children:[c.competitor.name,c.calculations.aTeamEligible&&e.jsx(E,{content:"Eligible for A Team",children:e.jsx(F,{icon:D,size:"sm",className:"ms-2",color:"success"})})]}),Q.map((t,f)=>e.jsx(u,{children:t&&t.nandu?e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`#/${B}/scorecard`,onClick:z=>{r({genderFilter:window.location.hash.includes("male")?"MALES":"FEMALES",categoryFilter:m.categoryFilter,eventFilter:t.event.split(" ")[t.event.split(" ").length-1],athleteFilter:c.competitor.name})},children:t.finalScore??"0.000"}),e.jsx(E,{content:t.nandu.join(", "),children:e.jsx(F,{icon:R,size:"sm",className:"ms-2",style:{cursor:"pointer"}})})]}):e.jsx("p",{children:t?t.score??"0.000":"-"})},f)),e.jsx(u,{children:c.calculations.averageFinalScore})]},A)})})]})})]})},he=()=>{const n=_(),{data:s,filters:o}=n,{athleteData:a,date:d,isLoading:m,error:r}=s;if(m)return e.jsx("div",{children:"Loading..."});if(r)return e.jsx(w,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const l=window.location.hash.includes("female")?"FEMALES":"MALES",T={CQ_DS_GS:a[l].CQ_DS_GS,CQ_JS_QS:a[l].CQ_JS_QS,NQ_ND_NG:a[l].NQ_ND_NG,TQ_TJ:a[l].TQ_TJ},S=(o.categoryFilter?[o.categoryFilter]:Object.keys(g)).map(p=>e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsx(W,{gender:window.location.hash.includes("female")?"Female":"Male",category:g[p],data:T[p]})})},p));return e.jsxs(e.Fragment,{children:[e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(w,{color:"info",children:["Standings as of ",d,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(j,{children:e.jsx(C,{xs:12,children:e.jsxs(y,{className:"mb-4",children:[e.jsx(I,{children:e.jsx("strong",{children:"Standing Filters"})}),e.jsx(N,{children:e.jsx(v,{showGenderFilter:!1,showCategoryFilter:!0,showEventFilter:!1,showAthleteFilter:!1})})]})})}),S]})};export{he as default};
