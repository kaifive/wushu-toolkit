import{j as e}from"./index-qc-dloL4.js";import{K as B}from"./DefaultLayout-Cn5WAtqJ.js";import"./index.es-CCgLNSIu.js";import{C as G,a as E}from"./CCardBody-CXrPt8C5.js";import{C as N}from"./CCardHeader-CLqoLF5c.js";import{C as O,a as F,b as S,c as d,d as R,e as u}from"./CTable-CvigL9el.js";import{C as b}from"./CAlert-C5AGP3jx.js";import{C as f,a as T}from"./CRow-CQjpPKxO.js";import"./authService-idhQpFoV.js";const w=({gender:n,group:a,data:i})=>e.jsxs(G,{className:"mb-4",children:[e.jsxs(N,{children:[e.jsx("strong",{children:"Live Standings"})," - ",n," | ",a," Group"]}),e.jsx(E,{children:e.jsxs(O,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(F,{children:e.jsxs(S,{children:[e.jsx(d,{scope:"col",children:"Rank"}),e.jsx(d,{scope:"col",children:"Athlete"}),e.jsx(d,{scope:"col",children:"Barehand"}),e.jsx(d,{scope:"col",children:"Short Weapon"}),e.jsx(d,{scope:"col",children:"Long Weapon"}),e.jsx(d,{scope:"col",children:"Total Score"})]})}),e.jsx(R,{children:Object.values(i).map((c,o)=>{let s=`#${o+1}`;const C=["CQ","NQ","TQ"],p=["DS","JS","ND","TJ"],A=["GS","QS","NG"],x=[],j=[],m=[];let g=0,l=0;Object.entries(c.events).map(([r,t])=>{C.includes(r)?(x.push(t),t.score>g&&(g=t.score)):p.includes(r)?(j.push(t),t.score>l&&(l=t.score)):A.includes(r)&&(m.push(t),t.score>l&&(l=t.score))});const h=g+l;return e.jsxs(S,{children:[e.jsx(d,{scope:"row",children:s}),e.jsx(u,{children:c.athleteName}),e.jsx(u,{children:x.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.score).toFixed(3)]}))}),e.jsx(u,{children:j.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.score).toFixed(3)]}))}),e.jsx(u,{children:m.map(r=>e.jsxs("div",{children:[r.name," - ",parseFloat(r.score).toFixed(3)]}))}),e.jsx(u,{children:parseFloat(h).toFixed(3)})]},o)})})]})})]});function y(n,a){const i=Object.entries(n).filter(([o,s])=>s.gender===a);return Object.fromEntries(i)}function D(n){const a={},i={},c={};return Object.entries(n).forEach(([o,s])=>{switch(s.ageGroup){case"A":a[o]=s;break;case"B":i[o]=s;break;case"C":c[o]=s;break}}),{aGroup:a,bGroup:i,cGroup:c}}const $=()=>{const n=B(),{data:a,filters:i}=n,{athleteData:c,date:o,isLoading:s,error:C}=a;if(s)return e.jsx("div",{children:"Loading..."});if(C)return e.jsx(b,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const p=window.location.hash.includes("female")?"Female":"Male",A=y(c,p),{aGroup:x,bGroup:j,cGroup:m}=D(A),l=[{group:"A",data:x},{group:"B",data:j},{group:"C",data:m}].map(h=>e.jsx(f,{children:e.jsx(T,{xs:12,children:e.jsx(w,{gender:p,group:h.group,data:h.data})})},`${p}_${h.group}_Group`));return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx(T,{xs:12,children:e.jsxs(b,{color:"info",children:["Standings as of ",o,". To update scores, refresh this page or wait 1 minute."]})})}),l]})};export{$ as default};
