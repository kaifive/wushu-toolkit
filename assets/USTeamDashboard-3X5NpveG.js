import{r as w,j as e}from"./index-CUxccBbT.js";import{s as O,g as P}from"./sortStandings-DkvFZbCF.js";import{c as B,a as E}from"./calculatePercentage-Dedo_nph.js";import{C as $}from"./CAlert-Cl0E-tCQ.js";import{C as R}from"./CAlertLink-Bm9WfDW3.js";import{C as v,a as n}from"./CRow-BPb1Up1h.js";import{C as p,a as u}from"./CCardBody-DyhJMY8k.js";import{C as m}from"./CCardHeader-DG7WLibR.js";import{C as M,a as G,b as d,c as a,d as y,e as h}from"./CTable-ed1O-umF.js";import{C}from"./CWidgetStatsB-BH8pgKDl.js";import{B as _}from"./BarChart-Ck6RUcgO.js";import{P as W}from"./PieChart-Db4aUUV3.js";import"./DefaultLayout-D_3cCiJn.js";import"./index.es-DqcBkJDw.js";import"./CProgress-B23J6NQi.js";const xe=()=>{const[r,s]=w.useState({athleteData:{},schools:[],loading:!0,error:null});w.useEffect(()=>{const f=()=>{P().then(i=>{s(i)}).catch(i=>{s({athleteData:{},schools:[],loading:!0,error:null})})};f();const N=setInterval(f,1*60*1e3);return()=>clearInterval(N)},[s]);const{athleteData:l,loading:o,error:t,syncDate:j}=r,S=O(l),g=V(S),c=g.filter(f=>f.gender==="Male"),T=g.filter(f=>f.gender==="Female");return o?e.jsx("div",{children:"Loading..."}):t?e.jsxs($,{color:"danger",children:["An error has occurred getting scores, refresh this page. If this problem continues to persist, check the ",e.jsx(R,{href:"https://bowuu.com/all-results",target:"_blank",children:"Official Total Scores"}),"."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(n,{xs:12,children:e.jsxs($,{color:"info",children:["Scores as of ",j,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(I,{finalTeam:g}),e.jsx(L,{maleFilteredStandings:c,femaleFilteredStandings:T}),e.jsx(H,{maleFilteredStandings:c,femaleFilteredStandings:T}),e.jsx(J,{filteredStandings:g}),e.jsx(z,{maleFilteredStandings:c,femaleFilteredStandings:T})]})},I=({finalTeam:r})=>e.jsxs(e.Fragment,{children:[e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"A Team"})," - Male"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"A","Male").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_male`))})]})})]})}),e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"A Team"})," - Female"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"A","Female").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_female`))})]})})]})})]}),e.jsx("br",{}),e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"B Team"})," - Male"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"B","Male").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_male`))})]})})]})}),e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"B Team"})," - Female"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"B","Female").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_female`))})]})})]})})]}),e.jsx("br",{}),e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"C Team"})," - Male"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"C","Male").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_male`))})]})})]})}),e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"C Team"})," - Female"]}),e.jsx(u,{children:e.jsxs(M,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(G,{children:e.jsxs(d,{children:[e.jsx(a,{scope:"col",children:"Group"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"School"})]})}),e.jsx(y,{children:A(r,"C","Female").map((s,l)=>e.jsxs(d,{children:[e.jsxs(h,{children:[s.group," Group"]}),e.jsx(h,{children:s.athlete}),e.jsx(h,{children:s.school})]},`${l}_female`))})]})})]})})]}),e.jsx("br",{})]}),L=({maleFilteredStandings:r,femaleFilteredStandings:s})=>e.jsxs(e.Fragment,{children:[e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(b(r,"Barehand"),10)},text:"Top Barehand on the US Team",title:"Average Score of Males' ",value:`${b(r,"Barehand")} / 10.00`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(b(r,"Weapon"),10)},text:"Top Weapon on the US Team",title:"Average Score of Males' ",value:`${b(r,"Weapon")} / 10.00`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(b(s,"Barehand"),10)},text:"Top Barehand on the US Team",title:"Average Score of Females'",value:`${b(s,"Barehand")} / 10.00`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(b(s,"Weapon"),10)},text:"Top Weapon on the US Team",title:"Average Score of Females' ",value:`${b(s,"Weapon")} / 10.00`})})]}),e.jsx("br",{}),e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(F(r),20)},text:"of Males' on the US Team",title:"Average Combined Score",value:`${F(r)} / 20.00`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:100},text:"by Males on the US Team",title:"Average Number of Events",value:`${k(r)}`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:B(b(s,"Barehand"),20)},text:"of Females' on the US Team",title:"Average Combined Score",value:`${F(s)} / 20.00`})}),e.jsx(n,{xs:12,sm:6,xl:3,xxl:3,children:e.jsx(C,{className:"mb-3",color:"white",progress:{value:100},text:"by Females on the US Team",title:"Average Number of Events",value:`${k(s)}`})})]}),e.jsx("br",{})]}),H=({maleFilteredStandings:r,femaleFilteredStandings:s})=>e.jsxs(e.Fragment,{children:[e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsx(m,{children:e.jsx("strong",{children:"Top Barehand Type of Males on US Team"})}),e.jsx(u,{children:e.jsx(D,{dataset:r})})]})}),e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsx(m,{children:e.jsx("strong",{children:"Top Barehand Type of Females on US Team"})}),e.jsx(u,{children:e.jsx(D,{dataset:s})})]})})]}),e.jsx("br",{})]}),J=({filteredStandings:r})=>e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(n,{xs:12,sm:12,xl:12,xxl:12,children:e.jsxs(p,{children:[e.jsx(m,{children:e.jsx("strong",{children:"Top Weapon Type Distributions of Athletes on US Team"})}),e.jsx(u,{children:e.jsx(K,{dataset:q(r)})})]})})}),e.jsx("br",{})]}),K=({dataset:r})=>{const s={height:300,sx:{[`.${E.left} .${E.label}`]:{transform:"translate(-20px, 0)"}}};return e.jsx(_,{dataset:r,xAxis:[{scaleType:"band",dataKey:"label"}],series:[{dataKey:"male",label:"Male",color:"#3399ff"},{dataKey:"female",label:"Female",color:"#e55353"}],grid:{horizontal:!0},...s})},z=({maleFilteredStandings:r,femaleFilteredStandings:s})=>e.jsxs(e.Fragment,{children:[e.jsxs(v,{xs:{gutter:3},children:[e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"US Team Breakdown by School"})," - Male"]}),e.jsx(u,{children:e.jsx(U,{dataset:r})})]})}),e.jsx(n,{xs:12,sm:12,xl:6,xxl:6,children:e.jsxs(p,{children:[e.jsxs(m,{children:[e.jsx("strong",{children:"US Team Breakdown by School"})," - Female"]}),e.jsx(u,{children:e.jsx(U,{dataset:s})})]})})]}),e.jsx("br",{})]});function V(r){const s=[];let l=0,o=0,t=0,j=0,S=0,g=0;return r.forEach(c=>{switch(c.group){case"A":l<9&&c.gender==="Male"?(l++,s.push(c)):o<9&&c.gender==="Female"&&(o++,s.push(c));break;case"B":t<6&&c.gender==="Male"?(t++,s.push(c)):j<6&&c.gender==="Female"&&(j++,s.push(c));break;case"C":S<6&&c.gender==="Male"?(S++,s.push(c)):g<6&&c.gender==="Female"&&(g++,s.push(c));break}}),s}function A(r,s,l){let o=[],t=[],j=[];r=r.filter(x=>x.gender===l);let S=0,g=0,c=0,T=0,f=0,N=0;r.forEach(x=>{switch(x.group){case"A":S<3&&x.gender==="Male"?S++:g<3&&x.gender==="Female"&&g++,o.push(x);break;case"B":c<2&&x.gender==="Male"?c++:T<2&&x.gender==="Female"&&T++,t.push(x);break;case"C":f<2&&x.gender==="Male"?f++:N<2&&x.gender==="Female"&&N++,j.push(x);break}});let i=[];switch(s){case"A":i.push(...o.slice(0,3)),i.push(...t.slice(0,2)),i.push(...j.slice(0,2));break;case"B":i.push(...o.slice(3,6)),i.push(...t.slice(2,4)),i.push(...j.slice(2,4));break;case"C":i.push(...o.slice(6,9)),i.push(...t.slice(2,4)),i.push(...j.slice(2,4));break}return i}function b(r,s){let l=0,o=0;r.map(j=>{l+=j.topEvents[s].score,o++});const t=o!==0?l/o:0;return Math.round(t*100)/100}function F(r){let s=0,l=0;r.map(t=>{s+=t.finalScore,l++});const o=l!==0?s/l:0;return Math.round(o*100)/100}function k(r){let s=0,l=0;r.map(t=>{s+=t.events.length,l++});const o=l!==0?s/l:0;return Math.round(o*100)/100}const D=({dataset:r})=>{let s={};r.map(o=>{s[o.topEvents.Barehand.type]||(s[o.topEvents.Barehand.type]=0),s[o.topEvents.Barehand.type]+=1});let l=[];return Object.entries(s).forEach(([o,t])=>{l.push({value:t,label:o})}),e.jsx(W,{margin:{left:80},series:[{data:l,highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:30,additionalRadius:-30,color:"gray"}}],height:300,slotProps:{legend:{hidden:!0}}})},U=({dataset:r})=>{let s={};r.map(o=>{s[o.school]||(s[o.school]=0),s[o.school]+=1});let l=[];return Object.entries(s).forEach(([o,t])=>{l.push({value:t,label:o})}),e.jsx(W,{margin:{left:80},series:[{data:l,highlightScope:{faded:"global",highlighted:"item"},faded:{innerRadius:30,additionalRadius:-30,color:"gray"}}],height:300,slotProps:{legend:{hidden:!0}}})};function q(r){let s={};return r.map(l=>{s[l.topEvents.Weapon.type]||(s[l.topEvents.Weapon.type]={male:0,female:0,label:l.topEvents.Weapon.type}),s[l.topEvents.Weapon.type][l.gender.toLowerCase()]+=1}),Object.values(s)}export{xe as default};
