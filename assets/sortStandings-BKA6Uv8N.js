const d={"Elementary Long Fist (IWuF)":"Changquan","Elementary Southern Fist (IWuF)":"Nanquan","1st Set Long Fist (IWuf)":"Changquan","Compulsory Southern Fist (IWuF)":"Nanquan","3rd Set Long Fist (IWuF)":"Changquan","3rd Set Southern Fist (IWuF)":"Nanquan","Elementary Staff (IWuF)":"Staff","Elementary Spear (IWuF)":"Spear","1st Set Staff (IWuf)":"Staff","1st Set Spear (IWuf)":"Spear","Compulsory Southern Staff (IWuF)":"Nangun","3rd Set Staff (IWuF)":"Staff","3rd Set Spear (IWuF)":"Spear","3rd Set Southern Staff (IWuF)":"Nangun","Elementary Southern Staff (IWuF)":"Nangun","Elementary Broad Sword (IWuF)":"Broadsword","Elementary Straight Sword (IWuF)":"Straightsword","Elementary Southern Broad Sword (IWuF)":"Nandao","1st Set Broad Sword (IWuf)":"Broadsword","1st Set Straight Sword (IWuf)":"Straightsword","Compulsory Southern Broadsword  (IWuF)":"Nandao","3rd Set Broad Sword (IWuF)":"Broadsword","3rd Set Straight Sword (IWuF)":"Straightsword","3rd Set Southern Broad Sword (IWuF)":"Nandao","24 Movements Taijiquan ":"Taijiquan","42 Movements Taijiquan ":"Taijiquan","3rd Set Taijiquan (IWuF)":"Taijiquan","32 Movements Taijijian ":"Taichi Straightsword","42 Movements Taijijian":"Taichi Straightsword","3rd Set Taijijian (IWuF)":"Taichi Straightsword","3rd Set Taijishan (IWuF)":"Taichi Fan"},p={Changquan:"Barehand",Nanquan:"Barehand",Taijiquan:"Barehand",Straightsword:"Short Weapon",Broadsword:"Short Weapon",Nandao:"Short Weapon","Taichi Fan":"Short Weapon","Taichi Straightsword":"Short Weapon",Staff:"Long Weapon",Spear:"Long Weapon",Nangun:"Long Weapon"};function g(){return fetch("https://bowuu.com/v1/eventParticipation/results/24").then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{if(!t.eventParticipation)throw new Error("Athlete data not found");const n={},o=[],s=[];t.eventParticipation.map(a=>{const r=a.teamName?a.teamName:"Individual";o.includes(r)||o.push(r),o.sort();const e={name:a.participantName,school:r};s.some(i=>JSON.stringify(i)===JSON.stringify(e))||s.push(e),s.sort((i,h)=>{const u=i.name.toLowerCase(),S=h.name.toLowerCase();return u<S?-1:u>S?1:0}),n[a.participantId]==null&&(n[a.participantId]={group:a.ageGroup,gender:a.gender,athlete:a.participantName,school:r,events:[],finalScore:0,topEvents:{Barehand:{form:"",score:0,type:"",class:""},Weapon:{form:"",score:0,type:"",class:""}}}),n[a.participantId].events.push({form:a.eventName,score:a.score?a.score:0,type:d[a.eventName],class:p[d[a.eventName]]})}),Object.values(n).forEach(a=>{a.events.map(r=>{let e=r.class;(e==="Short Weapon"||e==="Long Weapon")&&(e="Weapon"),r.score>a.topEvents[e].score&&(a.topEvents[e]=r)}),a.finalScore=Math.round((a.topEvents.Barehand.score+a.topEvents.Weapon.score)*1e3)/1e3});const c=new Date().toLocaleString("en-US",{timeZone:"America/Los_Angeles"})+" (PDT)";return{athleteData:n,schools:o,athletes:s,loading:!1,error:null,syncDate:c}}).catch(t=>(console.error("Error fetching athlete data:",t),{athleteData:{},loading:!1,error:t}))}function l(t){return Object.values(t).sort((o,s)=>s.finalScore-o.finalScore)}export{d as e,g,l as s};
