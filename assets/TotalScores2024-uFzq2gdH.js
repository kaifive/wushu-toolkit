import{r as c,j as e}from"./index-BEbkNdrE.js";import{s as H,g as M}from"./sortStandings-DkvFZbCF.js";import{C as y}from"./CAlert-D82AJo6X.js";import{C as O}from"./CAlertLink-CYsHQYmI.js";import{C as l,a as u}from"./CRow-BNz3ApoN.js";import{C as T,a as w}from"./CCardBody-Bfrtt9Hx.js";import{C as D}from"./CCardHeader-DX9dPD_1.js";import{C as i,a as h}from"./CInputGroupText-DmuPU-63.js";import{C as m}from"./CFormSelect-woJWey7A.js";import{C as K}from"./CFormInput-vvGiOUWA.js";import{a as W}from"./index.es-5u8HSuBs.js";import{C as _,a as q,b as A,c as o,d as z,e as n}from"./CTable-CQQuGpRM.js";import"./DefaultLayout-B9XvyaQ9.js";import"./CFormControlWrapper-CHp1Wg-y.js";import"./CFormControlValidation-Cdu_YN2s.js";import"./CFormLabel-C2lqeqy3.js";const ce=()=>{const[d,C]=c.useState(""),[x,g]=c.useState(""),[j,f]=c.useState(""),[S,v]=c.useState(""),[G,p]=c.useState({athleteData:{},schools:[],loading:!0,error:null});c.useEffect(()=>{const s=()=>{M().then(a=>{p(a)}).catch(a=>{p({athleteData:{},schools:[],loading:!0,error:null})})};s();const r=setInterval(s,1*60*1e3);return()=>clearInterval(r)},[p]);const{athleteData:N,schools:B,loading:I,error:k,syncDate:E}=G,L=H(N);return I?e.jsx("div",{children:"Loading..."}):k?e.jsxs(y,{color:"danger",children:["An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen and check the ",e.jsx(O,{href:"https://bowuu.com/all-results",target:"_blank",children:"Official Total Scores"}),"."]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(y,{color:"info",children:["Scores as of ",E,". To update scores, refresh this page or wait 1 minute."]})})}),e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(D,{children:e.jsx("strong",{children:"Total Score Filters"})}),e.jsxs(w,{children:[e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Gender: "}),e.jsxs(m,{value:d,onChange:s=>C(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Group: "}),e.jsxs(m,{value:x,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"B",children:"B"}),e.jsx("option",{value:"C",children:"C"})]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"School: "}),e.jsxs(m,{value:j,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"",children:"*"}),B.map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]})}),e.jsx(l,{children:e.jsxs(i,{className:"mb-3",children:[e.jsx(h,{style:{width:"75px"},children:"Athlete: "}),e.jsx(K,{value:S,onChange:s=>v(s.target.value)})]})}),e.jsx("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:e.jsx(W,{style:{},color:"primary",onClick:()=>{C(""),g(""),f(""),v("")},children:"Reset Filters"})})]})]})})}),e.jsx(l,{children:e.jsx(u,{xs:12,children:e.jsxs(T,{className:"mb-4",children:[e.jsx(D,{children:e.jsx("strong",{children:"Total Scores"})}),e.jsx(w,{children:e.jsxs(_,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(q,{children:e.jsxs(A,{children:[e.jsx(o,{scope:"col",children:"Group"}),e.jsx(o,{scope:"col",children:"Gender"}),e.jsx(o,{scope:"col",children:"School"}),e.jsx(o,{scope:"col",children:"Athlete"}),e.jsx(o,{scope:"col",children:"Final Score"}),e.jsx(o,{scope:"col",children:"Barehand Scores"}),e.jsx(o,{scope:"col",children:"Weapon Scores"})]})}),e.jsx(z,{children:Object.entries(L).map(([s,r])=>{const a=r.events.sort((t,R)=>R.score-t.score),b=[],F=[];if(a.map(t=>{t.class==="Barehand"?b.push(t.type+" - "+t.score):F.push(t.type+" - "+t.score)}),(r.group===x||x==="")&&(r.gender===d||d==="")&&(r.school===j||j==="")&&r.athlete.toLowerCase().includes(S.toLowerCase()))return e.jsxs(A,{children:[e.jsx(n,{children:r.group}),e.jsx(n,{children:r.gender}),e.jsx(n,{children:r.school}),e.jsx(n,{children:r.athlete}),e.jsx(n,{children:r.finalScore}),e.jsx(n,{children:b.join(", ")}),e.jsx(n,{children:F.join(", ")})]},s)})})]})})]})})})]})};export{ce as default};
