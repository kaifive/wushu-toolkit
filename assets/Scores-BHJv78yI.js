import{j as e}from"./index-DI8Gc4yk.js";import{J as N}from"./DefaultLayout-DD5Q20tZ.js";import"./index.esm-CUWDc5zm.js";import{N as A}from"./constants-uBO6CWjy.js";import{d as B,g as E,a as D}from"./categorizeAthleteData-B4dQ0D5Z.js";import{C as F,a as G}from"./CCardBody-C3h45ev9.js";import{C as O}from"./CCardHeader-Dd-Ts-tH.js";import{C as R,a as _,b as S,c as o,d as v,e as l}from"./CTable-DGw1XBnB.js";import{C as T}from"./CAlert-Cl1YSONB.js";import{C as b,a as g}from"./CRow-DioNmeZn.js";import"./authService-Dm9B_l-r.js";const y=({gender:p,group:c,data:m})=>{const u=Object.values(m).sort((a,t)=>t.totalScores-a.totalScores),i=B(m,c);return e.jsxs(F,{className:"mb-4",children:[e.jsxs(O,{children:[e.jsx("strong",{children:"Live Standings"})," - ",p," | ",c," Group"]}),e.jsx(G,{children:e.jsxs(R,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(_,{children:e.jsxs(S,{children:[e.jsx(o,{scope:"col",children:"Rank"}),e.jsx(o,{scope:"col",children:"Athlete"}),e.jsx(o,{scope:"col",children:"Barehand"}),e.jsx(o,{scope:"col",children:"Short Weapon"}),e.jsx(o,{scope:"col",children:"Long Weapon"}),e.jsx(o,{scope:"col",children:"Discipline"}),e.jsx(o,{scope:"col",children:"Total Score"})]})}),e.jsx(v,{children:Object.values(u).map((a,t)=>{let r=`#${t+1}`;i.A.find(s=>s.athleteName===a.athleteName)?r="A Team":i.B.find(s=>s.athleteName===a.athleteName)?r="B Team":i.C.find(s=>s.athleteName===a.athleteName)&&(r="C Team");const x=["CQ","NQ","TQ"],j=["DS","JS","ND","TJ","TS"],C=["GS","QS","NG"],d=[],f=[],h=[];return Object.entries(a.events).map(([s,n])=>{x.includes(n.abbreviation)?d.push(n):j.includes(n.abbreviation)?f.push(n):C.includes(n.abbreviation)&&h.push(n)}),e.jsxs(S,{color:A.includes(a.athleteName)?"primary":"",children:[e.jsx(o,{scope:"row",children:r}),e.jsx(l,{children:a.athleteName}),e.jsx(l,{children:d.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:f.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:h.map(s=>e.jsxs("div",{children:[s.name," - ",parseFloat(s.finalScore).toFixed(3)]},s.name))}),e.jsx(l,{children:a.topDiscipline}),e.jsx(l,{children:parseFloat(a.totalScores).toFixed(3)})]},t)})})]})})]})},P=()=>{const p=N(),{data:c,filters:m}=p,{athleteData:u,date:i,isLoading:a,error:t}=c;if(a)return e.jsx("div",{children:"Loading..."});if(t)return e.jsx(T,{color:"danger",children:"An error has occurred getting scores, refresh this page. If this problem continues to persist, contact Khai Nguyen."});const r=window.location.hash.includes("female")?"Female":"Male",x=E(u,r),{aGroup:j,bGroup:C,cGroup:d}=D(x),h=[{group:"A",data:j},{group:"B",data:C},{group:"C",data:d}].map(s=>e.jsx(b,{children:e.jsx(g,{xs:12,children:e.jsx(y,{gender:r,group:s.group,data:s.data})})},`${r}_${s.group}_Group`));return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(g,{xs:12,children:e.jsxs(T,{color:"info",children:["Standings as of ",i,". To update scores, refresh this page or wait 1 minute."]})})}),h]})};export{P as default};
